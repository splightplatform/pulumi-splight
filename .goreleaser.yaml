version: 2
archives:
  - id: archive
    name_template: '{{ .Binary }}-{{ .Tag }}-{{ .Os }}-{{ .Arch }}'
builds:
  - env:
      - CGO_ENABLED=0
    binary: pulumi-resource-splight
    dir: provider
    goos:
      # FIXME: uncomment when the github.com/pkg/term == 1.2.0
      # - freebsd
      - windows
      - linux
      - darwin
    goarch:
      - amd64
      - '386'
      - arm
      - arm64
    ignore:
      - goos: darwin
        goarch: '386'
    ldflags:
      - -X github.com/splightplatform/pulumi-splight/provider/pkg/version.Version={{ .Version }}
    main: ./cmd/pulumi-resource-splight
changelog:
  disable: true
release:
  disable: false
  prerelease: auto
